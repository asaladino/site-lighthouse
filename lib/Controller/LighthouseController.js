"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _LighthouseService=_interopRequireDefault(require("../Service/LighthouseService"));var _Args=_interopRequireDefault(require("../Model/Args"));var _Logger=_interopRequireDefault(require("../Utility/Logger"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}class LighthouseController{constructor(args){this.args=args;this.logger=new _Logger.default(args)}start(){let callback=arguments.length>0&&arguments[0]!==undefined?arguments[0]:(event,progress)=>{};return new Promise((resolve,reject)=>{this.args.output.doesFolderExist();const lighthouseService=new _LighthouseService.default(this.args);lighthouseService.on("start",progress=>{callback("start",progress);this.logger.report(progress.toLog());if(this.args.verbose){console.log(progress.toString())}}).on("progress",progress=>{callback("progress",progress);this.logger.report(progress.toLog());if(this.args.verbose){console.log(progress.toString())}}).on("complete",progress=>{callback("complete",progress);this.logger.report(progress.toLog());if(this.args.verbose){console.log(progress.toString())}resolve()});lighthouseService.start().then()})}}exports.default=LighthouseController;
//# sourceMappingURL=LighthouseController.js.map